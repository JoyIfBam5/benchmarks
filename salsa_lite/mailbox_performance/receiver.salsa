module mailbox_performance;

behavior receiver {
  private long m_max;
  private long m_value;

  public receiver(long max) {
    m_max   = max;
    m_value = 0;
  }

  public void msg() {
    if (++m_value == m_max) {
      // I don't know a better way. We don't want to keep
      // the WWCReceptionService running.
      System.exit(0);
    }
  }
}

